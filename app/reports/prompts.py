"""–ü—Ä–æ–º–ø—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –æ—Ç—á–µ—Ç–æ–≤"""

REPORT_PROMPTS = {
    "technical": """
–°–æ–∑–¥–∞–π –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ô –æ—Ç—á–µ—Ç –≤ –Ω–∞—É—á–Ω–æ–º —Å—Ç–∏–ª–µ —Å –º–∞–∫—Å–∏–º—É–º–æ–º —Ü–∏—Ñ—Ä –∏ —Ç–µ—Ä–º–∏–Ω–æ–≤.
–ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—é –±–∏–æ–º–µ—Ö–∞–Ω–∏–∫–∏ –∏ –∫–∏–Ω–µ–∑–∏–æ–ª–æ–≥–∏–∏.
–ë—É–¥—å —Ç–æ—á–Ω—ã–º –∏ –æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã–º.
""",
    
    "client": """
–°–æ–∑–¥–∞–π –ö–õ–ò–ï–ù–¢–°–ö–ò–ô –æ—Ç—á–µ—Ç - –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π, –º–æ—Ç–∏–≤–∏—Ä—É—é—â–∏–π, —Å —ç–º–æ–¥–∑–∏.
–û–±—ä—è—Å–Ω—è–π —Å–ª–æ–∂–Ω—ã–µ –≤–µ—â–∏ –ø—Ä–æ—Å—Ç—ã–º —è–∑—ã–∫–æ–º.
–§–æ–∫—É—Å–∏—Ä—É–π—Å—è –Ω–∞ –ø–æ–∑–∏—Ç–∏–≤–µ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–µ, –Ω–æ –±—É–¥—å —á–µ—Å—Ç–Ω—ã–º.
""",
    
    "detective": """
–°–æ–∑–¥–∞–π –æ—Ç—á–µ—Ç –≤ —Å—Ç–∏–ª–µ –î–ï–¢–ï–ö–¢–ò–í–ê - –¥—Ä–∞–º–∞—Ç–∏—á–Ω—ã–π, –∫–∞–∫ —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ.
–ò—Å–ø–æ–ª—å–∑—É–π –∫—Ä–∏–º–∏–Ω–∞–ª–∏—Å—Ç–∏—á–µ—Å–∫—É—é —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—é.
"–†–∞—Å—Å–ª–µ–¥—É–π" —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ –≤–æ –≤—Ä–µ–º—è –ª–∞–∑–∞–Ω–∏—è.
–ë—É–¥—å –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏–º, –Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º.

–°–ü–ï–¶–ò–ê–õ–¨–ù–´–ï –¢–ï–†–ú–ò–ù–´ –î–õ–Ø –î–ï–¢–ï–ö–¢–ò–í–ê:
- –ò—Å–ø–æ–ª—å–∑—É–π: "—É–ª–∏–∫–∏", "—Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞", "–≤–µ—Ä–¥–∏–∫—Ç"
""",
    
    "gamer": """
–°–æ–∑–¥–∞–π –æ—Ç—á–µ—Ç –≤ RPG/–ì–ï–ô–ú–ï–†–°–ö–û–ú —Å—Ç–∏–ª–µ —Å–æ —Å—Ç–∞—Ç–∞–º–∏ –∏ –∫–≤–µ—Å—Ç–∞–º–∏.
–ò—Å–ø–æ–ª—å–∑—É–π –∏–≥—Ä–æ–≤—É—é —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—é: —É—Ä–æ–≤–Ω–∏, –æ—á–∫–∏ –æ–ø—ã—Ç–∞, —Å–∫–∏–ª–ª—ã, –¥–µ–±–∞—Ñ—Ñ—ã.
–ü—Ä–µ–¥—Å—Ç–∞–≤—å –ª–∞–∑–∞–Ω–∏–µ –∫–∞–∫ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –≤ –∏–≥—Ä–µ.
–î–æ–±–∞–≤—å —ç–ª–µ–º–µ–Ω—Ç—ã –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏.
""",
    
    "coach": """
–°–æ–∑–¥–∞–π –¢–†–ï–ù–ï–†–°–ö–ò–ô –æ—Ç—á–µ—Ç - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π, —Å—Ç—Ä–æ–≥–∏–π, –Ω–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã–π.
–ì–æ–≤–æ—Ä–∏ –∫–∞–∫ –æ–ø—ã—Ç–Ω—ã–π —Ç—Ä–µ–Ω–µ—Ä —Å–æ —Å–≤–æ–∏–º –ø–æ–¥–æ–ø–µ—á–Ω—ã–º.
–§–æ–∫—É—Å–∏—Ä—É–π—Å—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è—Ö –∏ –ø–ª–∞–Ω–∞—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫.
–ë—É–¥—å —Ç—Ä–µ–±–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º, –Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–º.
""",
    
    "girl_style": """
–°–æ–∑–¥–∞–π –æ—Ç—á–µ—Ç –≤ GIRL STYLE - —Å—Ç–∏–ª—å–Ω—ã–π, –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∏–π, —Å beauty-–º–µ—Ç–∞—Ñ–æ—Ä–∞–º–∏.
–ò—Å–ø–æ–ª—å–∑—É–π –º–æ–¥–Ω—É—é —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—é –∏ —ç—Å—Ç–µ—Ç–∏—á–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è.
–°—Ä–∞–≤–Ω–∏–≤–∞–π –ª–∞–∑–∞–Ω–∏–µ —Å —Ç–∞–Ω—Ü–µ–º, –º–æ–¥–æ–π, –∏—Å–∫—É—Å—Å—Ç–≤–æ–º.
–ë—É–¥—å —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ–π –∏ –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–µ–π.
""",
    
    "beginner": """
–°–æ–∑–¥–∞–π –æ—Ç—á–µ—Ç –î–õ–Ø –ù–û–í–ò–ß–ö–ê - –ø—Ä–æ—Å—Ç–æ–π, –ø–æ–Ω—è—Ç–Ω—ã–π, –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤.
–û–±—ä—è—Å–Ω—è–π –∫–∞–∂–¥–æ–µ –ø–æ–Ω—è—Ç–∏–µ.
–ë—É–¥—å –æ—á–µ–Ω—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–º –∏ –æ–±–æ–¥—Ä—è—é—â–∏–º.
–ò–∑–±–µ–≥–∞–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∂–∞—Ä–≥–æ–Ω–∞.
""",
    
    "random": """
–°–æ–∑–¥–∞–π –æ—Ç—á–µ—Ç –≤ –°–õ–£–ß–ê–ô–ù–û–ú –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ–º —Å—Ç–∏–ª–µ - —É–¥–∏–≤–∏ –º–µ–Ω—è!
–ú–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥:
- –ü–æ—ç—Ç–∏—á–µ—Å–∫–∏–π
- –§–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–π
- –Æ–º–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π
- –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–ø–∏–∫–µ—Ä
- –ù–∞—É—á–Ω–∞—è —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞
–ì–ª–∞–≤–Ω–æ–µ - –±—É–¥—å –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–º –∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º!
"""
}


def get_full_report_prompt(
    analysis_data: dict,
    report_format: str,
    climber_name: str,
    expert_profile: dict,
    neuro_profile: dict,
    similar_athletes: list
) -> str:
    """–°–æ–∑–¥–∞–µ—Ç –ø–æ–ª–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è Claude API"""
    
    format_instruction = REPORT_PROMPTS.get(report_format, REPORT_PROMPTS["client"])
    
    # –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–æ–º–ø—Ç–∞
    expert_name = expert_profile.get('name', '–≠–∫—Å–ø–µ—Ä—Ç')
    neuro_type = neuro_profile.get('name', '–§–ò–õ–û–°–û–§')
    
    athletes_text = "\n".join([
        f"- {item['athlete_data']['name']}: {item['similarity']}% —Å—Ö–æ–¥—Å—Ç–≤–∞ ({item['athlete_data']['description']})"
        for item in similar_athletes
    ])
    
    prompt = f"""
–¢—ã - —ç–∫—Å–ø–µ—Ä—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ ClimbAI –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–∫–∞–ª–æ–ª–∞–∑–∞–Ω–∏—è.

{format_instruction}

–î–ê–ù–ù–´–ï –ê–ù–ê–õ–ò–ó–ê:
- –ö–∞–¥—Ä–æ–≤ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ: {analysis_data.get('total_frames', 0)}
- –°—Ä–µ–¥–Ω–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –ø–æ–∑—ã: {analysis_data.get('avg_pose_quality', 0):.1f}%
- –°—Ä–µ–¥–Ω—è—è –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å: {analysis_data.get('avg_motion_intensity', 0):.1f}
- –°—Ä–µ–¥–Ω–∏–π –±–∞–ª–∞–Ω—Å: {analysis_data.get('avg_balance_score', 0):.1f}%
- –ü–∞–¥–µ–Ω–∏–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ: {'–î–∞' if analysis_data.get('fall_detected') else '–ù–µ—Ç'}
- –û–±—â–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ: {analysis_data.get('overall_quality', 0):.1f}%

–ò–ú–Ø –°–ö–ê–õ–û–õ–ê–ó–ê: {climber_name}
–ù–ê–ó–ù–ê–ß–ï–ù–ù–´–ô –≠–ö–°–ü–ï–†–¢: {expert_name}
–û–ü–†–ï–î–ï–õ–ï–ù–ù–´–ô –ù–ï–ô–†–û–¢–ò–ü: {neuro_type}

–ü–û–•–û–ñ–ò–ï –°–ü–û–†–¢–°–ú–ï–ù–´:
{athletes_text}

–°–û–ó–î–ê–ô –ü–û–õ–ù–´–ô –û–¢–ß–ï–¢ –°–û –°–õ–ï–î–£–Æ–©–ò–ú–ò –ë–õ–û–ö–ê–ú–ò:

1. üìä –û–°–ù–û–í–ù–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê
   –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ü–∏—Ñ—Ä

2. ‚ö° –ú–ì–ù–û–í–ï–ù–ù–´–ô –í–ï–†–î–ò–ö–¢
   –ú–∞—Ç—Ä–∏—Ü–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å ASCII-–≥—Ä–∞—Ñ–∏–∫–∞–º–∏:
   –¢–ï–•–ù–ò–ö–ê:       ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë XX%
   –≠–§–§–ï–ö–¢–ò–í–ù–û–°–¢–¨: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë XX%
   –°–¢–ê–ë–ò–õ–¨–ù–û–°–¢–¨:  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë XX%
   –û–ë–©–ò–ô –ë–ê–õ–õ:    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë XX%

3. üë®‚Äçüè´ –≠–ö–°–ü–ï–†–¢–ù–´–ô –ê–ù–ê–õ–ò–ó ({expert_name})
   - –û—Ü–µ–Ω–∫–∞ –∏–∑ 100
   - –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –Ω–∞ –æ—Å–Ω–æ–≤–µ –†–ï–ê–õ–¨–ù–´–• –¥–∞–Ω–Ω—ã—Ö
   - –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∏–ª–∏ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã
   - –§–∏—Ä–º–µ–Ω–Ω—ã–π —Å–æ–≤–µ—Ç —ç–∫—Å–ø–µ—Ä—Ç–∞

4. üî¨ –ë–ò–û–ú–ï–•–ê–ù–ò–ß–ï–°–ö–ò–ô –ê–ù–ê–õ–ò–ó
   - –ö–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
   - –ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
   - –û—Ü–µ–Ω–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –∏ –¥–≤–∏–∂–µ–Ω–∏–π

5. üß† –ü–°–ò–•–û–õ–û–ì–ò–ß–ï–°–ö–ò–ô –ü–†–û–§–ò–õ–¨
   - –ù–µ–π—Ä–æ—Ç–∏–ø: {neuro_type}
   - –ü—Ä–æ—Ñ–∏–ª—å –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
   - –ü–æ–≤–µ–¥–µ–Ω–∏–µ –≤ —Å—Ç—Ä–µ—Å—Å–µ
   - –£—Ä–æ–≤–µ–Ω—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏: XX%

6. üèÜ –°–†–ê–í–ù–ï–ù–ò–ï –° –ë–ê–ó–û–ô –°–ü–û–†–¢–°–ú–ï–ù–û–í
   - –ü–æ—Ö–æ–∂–∏–µ –∞—Ç–ª–µ—Ç—ã
   - –ò–Ω—Å–∞–π—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Ö –æ–ø—ã—Ç–∞
   - –ü—Ä–æ–≥–Ω–æ–∑ —Ä–æ—Å—Ç–∞

7. üîÆ –ü–†–ï–î–ò–ö–¢–ò–í–ù–ê–Ø –ê–ù–ê–õ–ò–¢–ò–ö–ê
   - –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤
   - –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª —Ä–æ—Å—Ç–∞
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

8. üé¨ NETFLIX-STYLE SUMMARY
   - –î—Ä–∞–º–∞—Ç–∏—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —ç–ø–∏–∑–æ–¥–∞
   - –°—é–∂–µ—Ç–Ω–∞—è –ª–∏–Ω–∏—è
   - –†–µ–π—Ç–∏–Ω–≥ X/10

9. üìä –ö–õ–Æ–ß–ï–í–´–ï –ú–û–ú–ï–ù–¢–´
   - –õ—É—á—à–∏–µ –∏ —Ö—É–¥—à–∏–µ –∫–∞–¥—Ä—ã
   - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–æ—á–∫–∏

10. ‚ö° –ö–ê–ô–î–ó–ï–ù-–ü–õ–ê–ù
    üéØ –ü–†–Ø–ú–û –°–ï–ì–û–î–ù–Ø (5 –º–∏–Ω—É—Ç):
    1. [–ú–∏–∫—Ä–æ-–¥–µ–π—Å—Ç–≤–∏–µ 1]
    2. [–ú–∏–∫—Ä–æ-–¥–µ–π—Å—Ç–≤–∏–µ 2]
    3. [–ú–∏–∫—Ä–æ-–¥–µ–π—Å—Ç–≤–∏–µ 3]
    
    üìÖ –ù–ê –≠–¢–û–ô –ù–ï–î–ï–õ–ï:
    - [–ó–∞–¥–∞—á–∞ 1]
    - [–ó–∞–¥–∞—á–∞ 2]
    
    üöÄ –ù–ê –ú–ï–°–Ø–¶:
    - [–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è —Ü–µ–ª—å]

–ö–†–ò–¢–ò–ß–ù–û:
- –ù–ï –ø—Ä–∏—É–∫—Ä–∞—à–∏–≤–∞–π! –ö–∞—á–µ—Å—Ç–≤–æ <60% = "—Ç—Ä–µ–±—É–µ—Ç —É–ª—É—á—à–µ–Ω–∏—è" –∏–ª–∏ "–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Ç—É–∞—Ü–∏—è"
- –ò—Å–ø–æ–ª—å–∑—É–π –†–ï–ê–õ–¨–ù–´–ï –¥–∞–Ω–Ω—ã–µ –∏–∑ –∞–Ω–∞–ª–∏–∑–∞
- –ë—É–¥—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º: —Ü–∏—Ñ—Ä—ã, –ø—Ä–æ—Ü–µ–Ω—Ç—ã
- –í—Å–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–∏–º—ã–º–∏
- –§–æ—Ä–º–∞—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Å—Ç–∏–ª—é ({report_format})

–°–æ–∑–¥–∞–π –æ—Ç—á–µ—Ç –°–ï–ô–ß–ê–°:
"""
    
    return prompt.strip()


